{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///plotit.js","webpack:///webpack/bootstrap 62e7e84a6d0ff8309121","webpack:///./src/index.js","webpack:///./src/core/adjuster.js","webpack:///./src/core/filter.js","webpack:///./src/core/layer.js","webpack:///./src/core/resize.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","_adjuster","_adjuster2","_filter","_filter2","_resize","_resize2","Plotit","selector","$panel","document","querySelector","value","imgSrc","_this","image","panelW","clientWidth","panelH","clientHeight","$canvas","createElement","context","getContext","Image","crossOrigin","src","onload","imageW","width","imageH","height","scale","clearRect","drawImage","innerHTML","appendChild","originData","getData","canvas","getImageData","data","clearData","putImageData","setData","processor","resetImage","newLayer","bindUtil","bind","renderLayer","degree","imageData","deg","_pixel","r","g","b","a","opts","cropImage","originCanvas","previewCanvas","newFrame","setPreview","bindFrame","getFrame","removeFrame","size","quality","maxSize","base64Str","Math","floor","toDataURL","substring","indexOf","PlotitAdjuster","defaultDegree","options","pixel","keys","every","item","parseInt","checkOpts","max","pow","min","randomRange","rand","random","round","abs","avg","_layer","_layer2","PlotitFilter","util","layer","console","log","processPixel","ctx","x0","y0","r0","x1","y1","r1","grd","createRadialGradient","addColorStop","fillStyle","fillRect","PlotitLayer","top","style","left","newCanvas","position","$frame","$overlay","parent","parentNode","removeChild","clear","originW","originH","layerStyle","originT","parseFloat","replace","originL","name","x","y","wh","s","_min","drawCropImage","cropW","cropH","drawFrameLine","addOverlay","cropCxt","originCtx","originImageData","cxt","w","h","strokeStyle","lineWidth","strokeRect","rW","overlay","overlayCtx","PlotitResize","ct","cl","cw","ch","cropImageData","Layer","layerInfo","addFrame","isInTheRange","self","$layer","isDragging","pos","addEventListener","e","layerX","layerY","moveSize","srcElement","dragX","dragY","cropStyle","originStyle","cropT","cropL","moveX","moveY","movedx","movedy","mindx","mindy","maxdx","maxdy","styleTop","styleLeft","dx","dy","$preview","canvasStyle","resizeConfig","previewCtx","tempCanvas","tempCtx","tempImg","tempImgUrl"],"mappings":"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","file":"plotit.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Plotit\"] = factory();\n\telse\n\t\troot[\"Plotit\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Plotit\"] = factory();\n\telse\n\t\troot[\"Plotit\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _adjuster = __webpack_require__(/*! ./core/adjuster */ 1);\n\t\n\tvar _adjuster2 = _interopRequireDefault(_adjuster);\n\t\n\tvar _filter = __webpack_require__(/*! ./core/filter */ 2);\n\t\n\tvar _filter2 = _interopRequireDefault(_filter);\n\t\n\tvar _resize = __webpack_require__(/*! ./core/resize */ 4);\n\t\n\tvar _resize2 = _interopRequireDefault(_resize);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tmodule.exports = function () {\n\t  function Plotit(props) {\n\t    _classCallCheck(this, Plotit);\n\t\n\t    var selector = props.selector || 'body';\n\t    this.$panel = document.querySelector(selector);\n\t  }\n\t\n\t  _createClass(Plotit, [{\n\t    key: 'renderImage',\n\t    value: function renderImage(imgSrc) {\n\t      var _this = this;\n\t\n\t      if (this.$panel) {\n\t        (function () {\n\t          var image = void 0,\n\t              $panel = _this.$panel,\n\t              panelW = $panel.clientWidth,\n\t              panelH = $panel.clientHeight || 500;\n\t\n\t          var $canvas = document.createElement('canvas'),\n\t              context = $canvas.getContext('2d');\n\t\n\t          image = new Image();\n\t          image.crossOrigin = 'anonymous';\n\t          image.src = imgSrc;\n\t          _this.image = image;\n\t\n\t          image.onload = function () {\n\t            var imageW = image.width,\n\t                imageH = image.height,\n\t                scale = void 0;\n\t\n\t            context.clearRect(0, 0, $canvas.width, $canvas.height);\n\t\n\t            if (imageW > imageH) {\n\t              scale = imageW / panelW;\n\t            } else {\n\t              scale = imageH / panelH;\n\t            }\n\t\n\t            imageW = imageW / scale;\n\t            imageH = imageH / scale;\n\t\n\t            $canvas.id = 'plotitCanvas';\n\t            $canvas.width = imageW;\n\t            $canvas.height = imageH;\n\t\n\t            context.drawImage(image, 0, 0, $canvas.width, $canvas.height);\n\t\n\t            $panel.innerHTML = '';\n\t            $panel.appendChild($canvas);\n\t\n\t            _this.$canvas = $canvas;\n\t            _this.context = context;\n\t            _this.originData = _this.getData($canvas);\n\t          };\n\t        })();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getData',\n\t    value: function getData(canvas) {\n\t      canvas = canvas || this.$canvas;\n\t      var context = canvas.getContext('2d') || this.context;\n\t      if (context) {\n\t        return context.getImageData(0, 0, canvas.width, canvas.height);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'setData',\n\t    value: function setData(data) {\n\t      var context = this.context || this.$canvas.getContext('2d');\n\t      if (context) {\n\t        this.clearData();\n\t        return context.putImageData(data, 0, 0);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'clearData',\n\t    value: function clearData() {\n\t      var context = this.context || this.$canvas.getContext('2d');\n\t      if (context) {\n\t        return context.clearRect(0, 0, this.$canvas.width, this.$canvas.height);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'resetImage',\n\t    value: function resetImage() {\n\t      if (this.originData) {\n\t        this.setData(this.originData);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'removeImage',\n\t    value: function removeImage() {\n\t      this.$panel.innerHTML = '';\n\t    }\n\t  }, {\n\t    key: 'processFilter',\n\t    value: function processFilter(processor, canvas) {\n\t\n\t      this.resetImage();\n\t\n\t      // new layer\n\t      _filter2.default.newLayer(canvas);\n\t      // bind Util\n\t      _filter2.default.bindUtil(this);\n\t\n\t      if (processor && typeof processor === 'string') {\n\t        processor = _filter2.default[processor].bind(_filter2.default);\n\t      }\n\t\n\t      // filter processing\n\t      if (processor && typeof processor === 'function') {\n\t        processor();\n\t        // filter render\n\t        _filter2.default.renderLayer();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'processPixel',\n\t    value: function processPixel(processor, degree) {\n\t      if (this.getData()) {\n\t\n\t        var imageData = imageData || this.getData(),\n\t            deg = +degree || 0,\n\t            pixel = void 0;\n\t\n\t        if (processor && typeof processor === 'string') {\n\t          processor = _adjuster2.default[processor];\n\t          processor = processor ? processor.bind(_adjuster2.default) : null;\n\t        }\n\t\n\t        if (processor && typeof processor === 'function') {\n\t          for (var i = 0; i < imageData.data.length; i += 4) {\n\t            var _pixel = {\n\t              r: imageData.data[i + 0],\n\t              g: imageData.data[i + 1],\n\t              b: imageData.data[i + 2],\n\t              a: imageData.data[i + 3]\n\t            };\n\t\n\t            _pixel = processor(_pixel, deg);\n\t\n\t            imageData.data[i + 0] = _pixel.r;\n\t            imageData.data[i + 1] = _pixel.g;\n\t            imageData.data[i + 2] = _pixel.b;\n\t            imageData.data[i + 3] = _pixel.a;\n\t          }\n\t        }\n\t\n\t        this.setData(imageData);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'processCrop',\n\t    value: function processCrop(opts) {\n\t      _resize2.default.cropImage(this.$canvas, opts);\n\t    }\n\t  }, {\n\t    key: 'processResize',\n\t    value: function processResize(originCanvas, scale, previewCanvas) {\n\t      // new layer\n\t      _resize2.default.newFrame(originCanvas, scale);\n\t      // bind Util\n\t      _resize2.default.bindUtil(this);\n\t      // set Preview\n\t      _resize2.default.setPreview(previewCanvas);\n\t      // bind mousemove\n\t      _resize2.default.bindFrame(scale);\n\t    }\n\t  }, {\n\t    key: 'getResizeFrame',\n\t    value: function getResizeFrame() {\n\t      return _resize2.default.getFrame();\n\t    }\n\t  }, {\n\t    key: 'removeResizeFrame',\n\t    value: function removeResizeFrame() {\n\t      _resize2.default.removeFrame();\n\t    }\n\t  }, {\n\t    key: 'convertToBase64',\n\t    value: function convertToBase64(size) {\n\t      var quality = 1,\n\t          maxSize = 10000000,\n\t          base64Str = '';\n\t\n\t      if (size > maxSize) {\n\t        quality = Math.floor(maxSize / size);\n\t      }\n\t\n\t      var imageData = this.getData();\n\t\n\t      this.setData(imageData);\n\t\n\t      base64Str = this.$canvas.toDataURL(null, quality);\n\t\n\t      return base64Str.substring(base64Str.indexOf(',') + 1);\n\t    }\n\t  }]);\n\t\n\t  return Plotit;\n\t}();\n\n/***/ },\n/* 1 */\n/*!******************************!*\\\n  !*** ./src/core/adjuster.js ***!\n  \\******************************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar PlotitAdjuster = function () {\n\t  function PlotitAdjuster() {\n\t    _classCallCheck(this, PlotitAdjuster);\n\t\n\t    this.defaultDegree = 0;\n\t    this.options = ['r', 'g', 'b'];\n\t  }\n\t\n\t  _createClass(PlotitAdjuster, [{\n\t    key: 'checkOpts',\n\t    value: function checkOpts(pixel) {\n\t      var keys = Object.keys(pixel);\n\t      return this.options.every(function (item) {\n\t        return keys.indexOf(item) !== -1;\n\t      });\n\t    }\n\t\n\t    // 亮度\n\t\n\t  }, {\n\t    key: 'brightness',\n\t    value: function brightness(pixel, degree) {\n\t      var deg = parseInt(degree || this.defaultDegree, 10);\n\t\n\t      deg = Math.floor(255 * (deg / 250));\n\t\n\t      if (this.checkOpts(pixel)) {\n\t        pixel.r += deg;\n\t        pixel.g += deg;\n\t        pixel.b += deg;\n\t      }\n\t\n\t      return pixel;\n\t    }\n\t\n\t    // 饱和度\n\t\n\t  }, {\n\t    key: 'saturation',\n\t    value: function saturation(pixel, degree) {\n\t      var deg = parseInt(degree || this.defaultDegree, 10);\n\t\n\t      if (this.checkOpts(pixel)) {\n\t        var max = Math.max(pixel.r, pixel.g, pixel.b);\n\t\n\t        pixel.r += pixel.r !== max ? (max - pixel.r) * (deg / 50) : 0;\n\t        pixel.g += pixel.g !== max ? (max - pixel.g) * (deg / 50) : 0;\n\t        pixel.b += pixel.b !== max ? (max - pixel.b) * (deg / 50) : 0;\n\t      }\n\t\n\t      return pixel;\n\t    }\n\t\n\t    // 对比度\n\t\n\t  }, {\n\t    key: 'contrast',\n\t    value: function contrast(pixel, degree) {\n\t      var deg = parseInt(degree || this.defaultDegree, 10);\n\t\n\t      deg = Math.pow((deg + 100) / 100, 2);\n\t\n\t      if (this.checkOpts(pixel)) {\n\t        // Red Channel\n\t        pixel.r /= 255;\n\t        pixel.r -= .5;\n\t        pixel.r *= deg;\n\t        pixel.r += .5;\n\t        pixel.r *= 255;\n\t        // Green Channel\n\t        pixel.g /= 255;\n\t        pixel.g -= .5;\n\t        pixel.g *= deg;\n\t        pixel.g += .5;\n\t        pixel.g *= 255;\n\t        // Blue Channel\n\t        pixel.b /= 255;\n\t        pixel.b -= .5;\n\t        pixel.b *= deg;\n\t        pixel.b += .5;\n\t        pixel.b *= 255;\n\t      }\n\t\n\t      return pixel;\n\t    }\n\t\n\t    // 褐度\n\t\n\t  }, {\n\t    key: 'sepia',\n\t    value: function sepia(pixel, degree) {\n\t      var deg = parseInt(degree || this.defaultDegree, 10) / 100;\n\t      if (this.checkOpts(pixel)) {\n\t        pixel.r = Math.min(255, pixel.r * (1 - 0.607 * deg) + pixel.g * (0.769 * deg) + pixel.b * (0.189 * deg));\n\t        pixel.g = Math.min(255, pixel.r * (0.349 * deg) + pixel.g * (1 - 0.314 * deg) + pixel.b * (0.168 * deg));\n\t        pixel.b = Math.min(255, pixel.r * (0.272 * deg) + pixel.g * (0.534 * deg) + pixel.b * (1 - 0.869 * deg));;\n\t      }\n\t      return pixel;\n\t    }\n\t\n\t    // 噪点\n\t\n\t  }, {\n\t    key: 'noise',\n\t    value: function noise(pixel, degree) {\n\t      var deg = parseInt(degree || this.defaultDegree, 10);\n\t\n\t      var randomRange = function randomRange(min, max) {\n\t        var rand = min + Math.random() * (max - min);\n\t        return Math.round(rand) / 50;\n\t      };\n\t\n\t      deg = Math.abs(deg) * 255;\n\t\n\t      if (this.checkOpts(pixel)) {\n\t\n\t        var random = randomRange(deg * -1, deg);\n\t\n\t        pixel.r += random;\n\t        pixel.g += random;\n\t        pixel.b += random;\n\t      }\n\t\n\t      return pixel;\n\t    }\n\t\n\t    // 灰度\n\t\n\t  }, {\n\t    key: 'greyscale',\n\t    value: function greyscale(pixel) {\n\t      if (this.checkOpts(pixel)) {\n\t        var avg = 0.299 * pixel.r + 0.587 * pixel.g + 0.114 * pixel.b;\n\t\n\t        pixel.r = avg;\n\t        pixel.g = avg;\n\t        pixel.b = avg;\n\t      }\n\t\n\t      return pixel;\n\t    }\n\t  }]);\n\t\n\t  return PlotitAdjuster;\n\t}();\n\t\n\texports.default = new PlotitAdjuster();\n\n/***/ },\n/* 2 */\n/*!****************************!*\\\n  !*** ./src/core/filter.js ***!\n  \\****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _layer = __webpack_require__(/*! ./layer */ 3);\n\t\n\tvar _layer2 = _interopRequireDefault(_layer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar PlotitFilter = function () {\n\t  function PlotitFilter() {\n\t    _classCallCheck(this, PlotitFilter);\n\t\n\t    this.options = ['r', 'g', 'b'];\n\t  }\n\t\n\t  _createClass(PlotitFilter, [{\n\t    key: 'checkOpts',\n\t    value: function checkOpts(pixel) {\n\t      var keys = Object.keys(pixel);\n\t      return this.options.every(function (item) {\n\t        return keys.indexOf(item) !== -1;\n\t      });\n\t    }\n\t  }, {\n\t    key: 'bindUtil',\n\t    value: function bindUtil(util) {\n\t      this.util = util;\n\t    }\n\t  }, {\n\t    key: 'newLayer',\n\t    value: function newLayer(canvas) {\n\t      this.canvas = canvas;\n\t      this.layer = new _layer2.default(canvas, 'newFilter').layer;\n\t    }\n\t  }, {\n\t    key: 'renderLayer',\n\t    value: function renderLayer() {\n\t      this.canvas.getContext('2d').drawImage(this.layer, 0, 0);\n\t      console.log('render Filter ... is OK!');\n\t    }\n\t  }, {\n\t    key: 'moon',\n\t    value: function moon() {\n\t      this.util.processPixel('greyscale');\n\t    }\n\t  }, {\n\t    key: 'toaster',\n\t    value: function toaster() {\n\t\n\t      this.util.processPixel('brightness', 40);\n\t      this.util.processPixel('contrast', 25);\n\t\n\t      var ctx = this.layer.getContext('2d'),\n\t          width = this.layer.width,\n\t          height = this.layer.height,\n\t          x0 = width / 2,\n\t          y0 = height / 2,\n\t          r0 = (width > height ? width : height) / 10,\n\t          x1 = width / 2,\n\t          y1 = height / 2,\n\t          r1 = (width > height ? width : height) / 2;\n\t\n\t      var grd = ctx.createRadialGradient(x0, y0, r0, x1, y1, r1);\n\t      grd.addColorStop(0, 'rgba(255, 226, 114, .3)');\n\t      grd.addColorStop(1, 'rgba(172, 70, 186, .3)');\n\t\n\t      ctx.fillStyle = grd;\n\t      ctx.fillRect(0, 0, width, height);\n\t    }\n\t  }, {\n\t    key: '_1977',\n\t    value: function _1977() {\n\t\n\t      this.util.processPixel('brightness', 20);\n\t      this.util.processPixel('saturation', -10);\n\t      this.util.processPixel('contrast', 20);\n\t\n\t      var ctx = this.layer.getContext('2d'),\n\t          width = this.layer.width,\n\t          height = this.layer.height,\n\t          x0 = width / 2,\n\t          y0 = height / 2,\n\t          r0 = (width > height ? width : height) / 2;\n\t\n\t      var grd = ctx.createRadialGradient(x0, y0, r0, 0, 0, 0);\n\t      grd.addColorStop(0, 'rgba(172, 70, 186, .2)');\n\t\n\t      ctx.fillStyle = grd;\n\t      ctx.fillRect(0, 0, width, height);\n\t    }\n\t  }, {\n\t    key: 'aden',\n\t    value: function aden() {\n\t      this.util.processPixel('brightness', 10);\n\t      this.util.processPixel('saturation', 15);\n\t      this.util.processPixel('contrast', 10);\n\t\n\t      var ctx = this.layer.getContext('2d'),\n\t          width = this.layer.width,\n\t          height = this.layer.height,\n\t          x0 = width / 2,\n\t          y0 = height / 2,\n\t          r0 = (width > height ? width : height) / 5,\n\t          x1 = width / 2,\n\t          y1 = height / 2,\n\t          r1 = (width > height ? width : height) / 2;\n\t\n\t      var grd = ctx.createRadialGradient(x0, y0, r0, x1, y1, r1);\n\t      grd.addColorStop(0, 'rgba(96, 10, 14, .12)');\n\t      grd.addColorStop(1, 'transparent');\n\t\n\t      ctx.fillStyle = grd;\n\t      ctx.fillRect(0, 0, width, height);\n\t    }\n\t  }, {\n\t    key: 'earlybird',\n\t    value: function earlybird() {\n\t      this.util.processPixel('saturation', -20);\n\t      this.util.processPixel('sepia', 10);\n\t\n\t      var ctx = this.layer.getContext('2d'),\n\t          width = this.layer.width,\n\t          height = this.layer.height,\n\t          x0 = width / 2,\n\t          y0 = height / 2,\n\t          r0 = (width > height ? width : height) / 5,\n\t          x1 = width / 2,\n\t          y1 = height / 2,\n\t          r1 = (width > height ? width : height) / 2;\n\t\n\t      var grd = ctx.createRadialGradient(x0, y0, r0, x1, y1, r1);\n\t      grd.addColorStop(0, 'rgba(208, 186, 142, .15)');\n\t      grd.addColorStop(1, 'rgba(54, 3, 9, .2)');\n\t\n\t      ctx.fillStyle = grd;\n\t      ctx.fillRect(0, 0, width, height);\n\t    }\n\t  }, {\n\t    key: 'walden',\n\t    value: function walden() {\n\t      this.util.processPixel('brightness', 25);\n\t      this.util.processPixel('saturation', -5);\n\t      this.util.processPixel('sepia', 6);\n\t\n\t      var ctx = this.layer.getContext('2d'),\n\t          width = this.layer.width,\n\t          height = this.layer.height,\n\t          x0 = width / 2,\n\t          y0 = height / 2,\n\t          r0 = (width > height ? width : height) / 2;\n\t\n\t      var grd = ctx.createRadialGradient(x0, y0, r0, 0, 0, 0);\n\t      grd.addColorStop(0, 'rgba(20, 68, 204, .1)');\n\t\n\t      ctx.fillStyle = grd;\n\t      ctx.fillRect(0, 0, width, height);\n\t    }\n\t  }, {\n\t    key: 'xpro2',\n\t    value: function xpro2() {\n\t      this.util.processPixel('contrast', 10);\n\t\n\t      var ctx = this.layer.getContext('2d'),\n\t          width = this.layer.width,\n\t          height = this.layer.height,\n\t          x0 = width / 2,\n\t          y0 = height / 2,\n\t          r0 = (width > height ? width : height) / 6,\n\t          x1 = width / 2,\n\t          y1 = height / 2,\n\t          r1 = (width > height ? width : height) / 2;\n\t\n\t      var grd = ctx.createRadialGradient(x0, y0, r0, x1, y1, r1);\n\t      grd.addColorStop(0, 'rgba(230, 231, 224, .2)');\n\t      grd.addColorStop(1, 'rgba(13, 27, 86, .4)');\n\t\n\t      ctx.fillStyle = grd;\n\t      ctx.fillRect(0, 0, width, height);\n\t    }\n\t  }, {\n\t    key: 'lofi',\n\t    value: function lofi() {\n\t      this.util.processPixel('saturation', 5);\n\t      this.util.processPixel('contrast', 20);\n\t\n\t      var ctx = this.layer.getContext('2d'),\n\t          width = this.layer.width,\n\t          height = this.layer.height,\n\t          x0 = width / 2,\n\t          y0 = height / 2,\n\t          r0 = (width > height ? width : height) / 3,\n\t          x1 = width / 2,\n\t          y1 = height / 2,\n\t          r1 = (width > height ? width : height) / 2;\n\t\n\t      var grd = ctx.createRadialGradient(x0, y0, r0, x1, y1, r1);\n\t      grd.addColorStop(0, 'transparent');\n\t      grd.addColorStop(1, 'rgba(34, 34, 34, .2)');\n\t\n\t      ctx.fillStyle = grd;\n\t      ctx.fillRect(0, 0, width, height);\n\t    }\n\t  }]);\n\t\n\t  return PlotitFilter;\n\t}();\n\t\n\texports.default = new PlotitFilter();\n\n/***/ },\n/* 3 */\n/*!***************************!*\\\n  !*** ./src/core/layer.js ***!\n  \\***************************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar PlotitLayer = function () {\n\t  function PlotitLayer(canvas, id) {\n\t    _classCallCheck(this, PlotitLayer);\n\t\n\t    this.canvas = canvas;\n\t    this.id = id;\n\t    this.layer = this.new(id);\n\t  }\n\t\n\t  _createClass(PlotitLayer, [{\n\t    key: 'new',\n\t    value: function _new(id) {\n\t      var canvas = this.canvas,\n\t          width = canvas.width,\n\t          height = canvas.height,\n\t          top = canvas.style.top,\n\t          left = canvas.style.left;\n\t\n\t      var newCanvas = document.createElement('canvas');\n\t\n\t      newCanvas.id = id;\n\t      newCanvas.width = width;\n\t      newCanvas.height = height;\n\t      newCanvas.style.position = 'absolute';\n\t      newCanvas.style.top = top;\n\t      newCanvas.style.left = left;\n\t\n\t      return newCanvas;\n\t    }\n\t  }, {\n\t    key: 'clear',\n\t    value: function clear() {\n\t      if (!document.querySelector('#' + this.id)) return;\n\t\n\t      var $frame = document.querySelector('#' + this.id),\n\t          $overlay = document.querySelector('#overlay'),\n\t          parent = $frame.parentNode;\n\t\n\t      parent.removeChild($frame);\n\t\n\t      if ($overlay) {\n\t        parent.removeChild($overlay);\n\t      }\n\t    }\n\t\n\t    // append to the panel\n\t\n\t  }, {\n\t    key: 'addFrame',\n\t    value: function addFrame(scale) {\n\t\n\t      this.clear();\n\t\n\t      var originW = this.layer.width,\n\t          originH = this.layer.height,\n\t          layerStyle = this.layer.style,\n\t          originT = parseFloat(layerStyle.top.replace('px', '')),\n\t          originL = parseFloat(layerStyle.left.replace('px', ''));\n\t\n\t      switch (scale.name) {\n\t        case '1:1':\n\t        case '4:3':\n\t        case '3:4':\n\t          var x = scale.x,\n\t              y = scale.y,\n\t              wh = originW / originH,\n\t              s = x / y,\n\t              min = void 0;\n\t\n\t          if (wh < s) {\n\t            this.layer.width = originW;\n\t            this.layer.height = originW / x * y;\n\t          } else if (wh > s) {\n\t            this.layer.height = originH;\n\t            this.layer.width = originH / y * x;\n\t          } else {\n\t            var _min = originW < originH ? originW : originH;\n\t            this.layer.width = _min;\n\t            this.layer.height = _min;\n\t          }\n\t          break;\n\t\n\t        case '自定义':\n\t        default:\n\t          break;\n\t      }\n\t\n\t      layerStyle.top = originT + (originH - this.layer.height) / 2 + 'px';\n\t      layerStyle.left = originL + (originW - this.layer.width) / 2 + 'px';\n\t\n\t      this.drawCropImage(this.layer, {\n\t        originW: originW,\n\t        originH: originH,\n\t        cropW: this.layer.width,\n\t        cropH: this.layer.height\n\t      });\n\t\n\t      this.drawFrameLine(this.layer);\n\t\n\t      this.addOverlay(originW, originH);\n\t\n\t      this.canvas.parentNode.appendChild(this.layer);\n\t\n\t      return {\n\t        layer: this.layer,\n\t        originW: originW,\n\t        originH: originH,\n\t        cropW: this.layer.width,\n\t        cropH: this.layer.height\n\t      };\n\t    }\n\t  }, {\n\t    key: 'drawCropImage',\n\t    value: function drawCropImage(canvas, opts) {\n\t      var cropCxt = canvas.getContext('2d'),\n\t          originCtx = this.canvas.getContext('2d'),\n\t          x = opts.x || (opts.originW - opts.cropW) / 2,\n\t          y = opts.y || (opts.originH - opts.cropH) / 2;\n\t\n\t      var originImageData = originCtx.getImageData(x, y, opts.originW, opts.originH);\n\t\n\t      cropCxt.clearRect(0, 0, opts.cropW, opts.cropH);\n\t      cropCxt.putImageData(originImageData, 0, 0);\n\t    }\n\t  }, {\n\t    key: 'drawFrameLine',\n\t    value: function drawFrameLine(canvas) {\n\t      var cxt = canvas.getContext('2d'),\n\t          w = canvas.width,\n\t          h = canvas.height;\n\t\n\t      cxt.strokeStyle = 'rgba(255, 255, 255, .5)';\n\t      cxt.lineWidth = 1;\n\t      cxt.strokeRect(0, h / 3, w, h / 3);\n\t      cxt.strokeRect(w / 3, 0, w / 3, h);\n\t\n\t      cxt.strokeStyle = '#FFF';\n\t      cxt.lineWidth = 5;\n\t      cxt.strokeRect(0, 0, w, h);\n\t\n\t      var rW = 10;\n\t      cxt.fillStyle = '#FFF';\n\t      cxt.fillRect(0, 0, rW, rW);\n\t      cxt.fillRect(w - rW, 0, rW, rW);\n\t      cxt.fillRect(w - rW, h - rW, rW, rW);\n\t      cxt.fillRect(0, h - rW, rW, rW);\n\t    }\n\t  }, {\n\t    key: 'addOverlay',\n\t    value: function addOverlay(w, h) {\n\t\n\t      if (document.querySelector('#overlay')) return;\n\t\n\t      this.overlay = this.new('overlay');\n\t\n\t      var overlayCtx = this.overlay.getContext('2d');\n\t      overlayCtx.fillStyle = 'rgba(0, 0, 0, .7)';\n\t      overlayCtx.fillRect(0, 0, w, h);\n\t\n\t      this.canvas.parentNode.appendChild(this.overlay);\n\t    }\n\t  }]);\n\t\n\t  return PlotitLayer;\n\t}();\n\t\n\texports.default = PlotitLayer;\n\n/***/ },\n/* 4 */\n/*!****************************!*\\\n  !*** ./src/core/resize.js ***!\n  \\****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _layer = __webpack_require__(/*! ./layer */ 3);\n\t\n\tvar _layer2 = _interopRequireDefault(_layer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar PlotitResize = function () {\n\t  function PlotitResize() {\n\t    _classCallCheck(this, PlotitResize);\n\t  }\n\t\n\t  _createClass(PlotitResize, [{\n\t    key: 'bindUtil',\n\t    value: function bindUtil(util) {\n\t      this.util = util;\n\t    }\n\t  }, {\n\t    key: 'cropImage',\n\t    value: function cropImage(canvas, opts) {\n\t      var ctx = canvas.getContext('2d'),\n\t          ct = parseInt(canvas.style.top.replace('px', '')),\n\t          cl = parseInt(canvas.style.left.replace('px', '')),\n\t          cw = canvas.width,\n\t          ch = canvas.height,\n\t          x = opts.x,\n\t          y = opts.y,\n\t          w = opts.w,\n\t          h = opts.h;\n\t\n\t      var cropImageData = ctx.getImageData(x, y, w, h);\n\t\n\t      ctx.putImageData(cropImageData, 0, 0);\n\t\n\t      canvas.width = w;\n\t      canvas.height = h;\n\t      canvas.style.left = cl + (cw - w) / 2 + 'px';\n\t      canvas.style.top = ct + (ch - h) / 2 + 'px';\n\t    }\n\t  }, {\n\t    key: 'newFrame',\n\t    value: function newFrame(canvas, scale) {\n\t      this.canvas = canvas;\n\t      this.Layer = new _layer2.default(canvas, 'newFrame');\n\t      this.layerInfo = this.Layer.addFrame(scale);\n\t    }\n\t  }, {\n\t    key: 'removeFrame',\n\t    value: function removeFrame() {\n\t      if (this.Layer) {\n\t        this.Layer.clear();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'bindFrame',\n\t    value: function bindFrame(scale) {\n\t      var self = this,\n\t          $layer = this.layerInfo.layer,\n\t          originW = this.layerInfo.originW,\n\t          originH = this.layerInfo.originH,\n\t          cropW = this.layerInfo.cropW,\n\t          cropH = this.layerInfo.cropH,\n\t          isDragging = false,\n\t          pos = {};\n\t\n\t      function isInTheRange(x, y, size) {\n\t        return x > size && x < cropW - size && y > size && y < cropH - size;\n\t      }\n\t\n\t      $layer.addEventListener('mousedown', function dragging(e) {\n\t\n\t        var x = e.layerX,\n\t            y = e.layerY,\n\t            elem = e.target || e.srcElement,\n\t            moveSize = 10;\n\t\n\t        if (isInTheRange(x, y, moveSize)) {\n\t          isDragging = true;\n\t          pos.dragX = x;\n\t          pos.dragY = y;\n\t        }\n\t      }, false);\n\t\n\t      $layer.addEventListener('mousemove', function moving(e) {\n\t\n\t        var x = e.layerX,\n\t            y = e.layerY,\n\t            moveSize = 10,\n\t            cropStyle = $layer.style,\n\t            originStyle = self.canvas.style,\n\t            cropT = parseFloat(cropStyle.top.replace('px', '')) || 0,\n\t            cropL = parseFloat(cropStyle.left.replace('px', '')) || 0,\n\t            originT = parseFloat(originStyle.top.replace('px', '')) || 0,\n\t            originL = parseFloat(originStyle.left.replace('px', '')) || 0;\n\t\n\t        if (isInTheRange(x, y, moveSize) && isDragging) {\n\t\n\t          pos.moveX = x;\n\t          pos.moveY = y;\n\t\n\t          var movedx = cropL + (pos.moveX - pos.dragX),\n\t              movedy = cropT + (pos.moveY - pos.dragY),\n\t              mindx = originL,\n\t              mindy = originT,\n\t              maxdx = originL + originW - cropW,\n\t              maxdy = originT + originH - cropH;\n\t\n\t          var styleTop = movedy >= mindy && movedy <= maxdy ? movedy : cropT,\n\t              styleLeft = movedx >= mindx && movedx <= maxdx ? movedx : cropL;\n\t\n\t          $layer.style.top = styleTop + 'px';\n\t          $layer.style.left = styleLeft + 'px';\n\t\n\t          self.dx = styleLeft - originL < 0 ? 0 : styleLeft - originL;\n\t          self.dy = styleTop - originT < 0 ? 0 : styleTop - originT;\n\t\n\t          self.Layer.drawCropImage($layer, {\n\t            originH: originH,\n\t            originW: originW,\n\t            cropH: cropH,\n\t            cropW: cropW,\n\t            x: self.dx,\n\t            y: self.dy\n\t          });\n\t\n\t          self.Layer.drawFrameLine($layer);\n\t\n\t          self.setPreview(self.$preview, self.dx, self.dy);\n\t        }\n\t      }, false);\n\t\n\t      $layer.addEventListener('mouseup', function dropping(e) {\n\t        var x = e.layerX,\n\t            y = e.layerY,\n\t            moveSize = 10;\n\t\n\t        isDragging = false;\n\t        if (isInTheRange(x, y, moveSize)) {\n\t          console.log('dropping', x, y);\n\t        }\n\t      }, false);\n\t    }\n\t  }, {\n\t    key: 'getFrame',\n\t    value: function getFrame() {\n\t      if (this.cropImageData) {\n\t        var originW = this.canvas.width,\n\t            originH = this.canvas.height,\n\t            canvasStyle = this.canvas.style,\n\t            originT = parseFloat(canvasStyle.top.replace('px', '')),\n\t            originL = parseFloat(canvasStyle.left.replace('px', '')),\n\t            cropW = this.cropImageData.width,\n\t            cropH = this.cropImageData.height,\n\t            originCtx = this.canvas.getContext('2d');\n\t\n\t        this.canvas.width = cropW;\n\t        this.canvas.height = cropH;\n\t        originCtx.putImageData(this.cropImageData, 0, 0);\n\t\n\t        canvasStyle.top = originT + (originH - cropH) / 2 + 'px';\n\t        canvasStyle.left = originL + (originW - cropW) / 2 + 'px';\n\t\n\t        this.removeFrame();\n\t      }\n\t\n\t      return this.resizeConfig || {};\n\t    }\n\t  }, {\n\t    key: 'setPreview',\n\t    value: function setPreview(canvas, x, y) {\n\t      var originCtx = this.canvas.getContext('2d'),\n\t          previewCtx = canvas.getContext('2d'),\n\t          previewW = canvas.width,\n\t          cropW = this.layerInfo.cropW,\n\t          cropH = this.layerInfo.cropH;\n\t\n\t      x = x || (this.layerInfo.originW - cropW) / 2, y = y || (this.layerInfo.originH - cropH) / 2;\n\t\n\t      this.$preview = canvas;\n\t\n\t      this.resizeConfig = {\n\t        x: x,\n\t        y: y,\n\t        w: cropW,\n\t        h: cropH\n\t      };\n\t\n\t      this.cropImageData = originCtx.getImageData(x, y, cropW, cropH);\n\t\n\t      canvas.width = 224;\n\t      canvas.height = canvas.width / cropW * cropH;\n\t\n\t      var tempCanvas = document.createElement('canvas'),\n\t          tempCtx = tempCanvas.getContext('2d');\n\t\n\t      tempCanvas.width = cropW;\n\t      tempCanvas.height = cropH;\n\t      tempCtx.putImageData(this.cropImageData, 0, 0);\n\t\n\t      var tempImg = new Image(),\n\t          tempImgUrl = tempCanvas.toDataURL();\n\t\n\t      tempImg.src = tempImgUrl;\n\t\n\t      previewCtx.drawImage(tempImg, 0, 0, canvas.width, canvas.height);\n\t    }\n\t  }]);\n\t\n\t  return PlotitResize;\n\t}();\n\t\n\texports.default = new PlotitResize();\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** plotit.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 62e7e84a6d0ff8309121\n **/","import Adjuster from './core/adjuster';\nimport Filter from './core/filter';\nimport Resize from './core/resize';\n\nmodule.exports = class Plotit {\n  constructor(props) {\n    let selector = props.selector || 'body';\n    this.$panel = document.querySelector(selector);\n  }\n\n  renderImage(imgSrc) {\n    if (this.$panel) {\n      let image,\n          $panel = this.$panel,\n          panelW = $panel.clientWidth,\n          panelH = $panel.clientHeight || 500;\n\n      let $canvas = document.createElement('canvas'),\n          context = $canvas.getContext('2d');\n\n      image = new Image();\n      image.crossOrigin = 'anonymous';\n      image.src = imgSrc;\n      this.image = image;\n\n      image.onload = () => {\n        let imageW = image.width,\n            imageH = image.height,\n            scale;\n\n        context.clearRect(0, 0, $canvas.width, $canvas.height);\n\n        if (imageW > imageH) {\n          scale = imageW / panelW;\n        } else {\n          scale = imageH / panelH;\n        }\n\n        imageW = imageW / scale;\n        imageH = imageH / scale;\n\n        $canvas.id = 'plotitCanvas';\n        $canvas.width = imageW;\n        $canvas.height = imageH;\n        \n        context.drawImage(image, 0, 0, $canvas.width, $canvas.height); \n\n        $panel.innerHTML = '';\n        $panel.appendChild($canvas);\n\n        this.$canvas = $canvas;\n        this.context  = context;\n        this.originData = this.getData($canvas);\n      }\n    }\n  }\n\n  getData(canvas) {\n    canvas = canvas || this.$canvas;\n    let context = canvas.getContext('2d') || this.context;\n    if (context) {\n      return context.getImageData(0, 0, canvas.width, canvas.height);\n    }\n  }\n\n  setData(data) {\n    let context = this.context || this.$canvas.getContext('2d');\n    if (context) {\n      this.clearData();\n      return context.putImageData(data, 0, 0);\n    }\n  }\n\n  clearData() {\n    let context = this.context || this.$canvas.getContext('2d');\n    if (context) {\n      return context.clearRect(0, 0, this.$canvas.width, this.$canvas.height);\n    }\n  }\n\n  resetImage() {\n    if (this.originData) {\n      this.setData(this.originData);  \n    }\n  }\n\n  removeImage() {\n    this.$panel.innerHTML = '';\n  }\n\n  processFilter(processor, canvas) {\n    \n    this.resetImage();\n\n    // new layer\n    Filter.newLayer(canvas);\n    // bind Util\n    Filter.bindUtil(this);\n\n    if (processor && typeof processor === 'string') {\n      processor = Filter[processor].bind(Filter);\n    }\n\n    // filter processing\n    if (processor && typeof processor === 'function') {\n      processor();\n      // filter render\n      Filter.renderLayer();\n    }\n\n  }\n\n  processPixel(processor, degree) {\n    if (this.getData()) {\n  \n      let imageData = imageData || this.getData(),\n          deg = +degree || 0,\n          pixel;\n\n      if (processor && typeof processor === 'string') {\n        processor = Adjuster[processor];\n        processor = processor ? processor.bind(Adjuster) : null;\n      }\n\n      if (processor && typeof processor === 'function') {\n        for (let i = 0; i < imageData.data.length; i += 4) {\n          let pixel = {\n            r: imageData.data[i + 0],\n            g: imageData.data[i + 1],\n            b: imageData.data[i + 2],\n            a: imageData.data[i + 3]\n          };\n\n          pixel = processor(pixel, deg);\n\n          imageData.data[i + 0] = pixel.r;\n          imageData.data[i + 1] = pixel.g;\n          imageData.data[i + 2] = pixel.b;\n          imageData.data[i + 3] = pixel.a;\n        }\n      }\n\n      this.setData(imageData);\n    }\n  }\n\n  processCrop(opts) {\n    Resize.cropImage(this.$canvas, opts);\n  }\n\n  processResize(originCanvas, scale, previewCanvas) {\n    // new layer\n    Resize.newFrame(originCanvas, scale);\n    // bind Util\n    Resize.bindUtil(this);\n    // set Preview\n    Resize.setPreview(previewCanvas);\n    // bind mousemove\n    Resize.bindFrame(scale);\n  }\n\n  getResizeFrame() {\n    return Resize.getFrame();\n  }\n\n  removeResizeFrame() {\n    Resize.removeFrame();\n  }\n\n  convertToBase64(size) {\n    let quality = 1,\n        maxSize = 10000000,\n        base64Str = '';\n\n    if (size > maxSize) {\n      quality = Math.floor(maxSize / size);\n    }\n\n    let imageData = this.getData();\n    \n    this.setData(imageData);\n\n    base64Str = this.$canvas.toDataURL(null, quality);\n\n    return base64Str.substring(base64Str.indexOf(',') + 1);\n  }\n\n}\n \n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","class PlotitAdjuster {\n  constructor() {\n    this.defaultDegree = 0;\n    this.options = ['r', 'g', 'b'];\n  }\n\n  checkOpts(pixel) {\n    var keys = Object.keys(pixel);\n    return this.options.every((item) => {\n      return keys.indexOf(item) !== -1;\n    });\n  }\n\n  // 亮度\n  brightness(pixel, degree) {\n    var deg = parseInt(degree || this.defaultDegree, 10);\n\n    deg = Math.floor(255 * (deg / 250));\n\n    if (this.checkOpts(pixel)) {\n      pixel.r += deg;\n      pixel.g += deg;\n      pixel.b += deg;\n    }\n\n    return pixel;\n  }\n\n  // 饱和度\n  saturation(pixel, degree) {\n    var deg = parseInt(degree || this.defaultDegree, 10);\n\n    if (this.checkOpts(pixel)) {\n      var max = Math.max(pixel.r , pixel.g, pixel.b);\n\n      pixel.r += (pixel.r !== max ? ((max - pixel.r) * (deg / 50)) : 0);\n      pixel.g += (pixel.g !== max ? ((max - pixel.g) * (deg / 50)) : 0);\n      pixel.b += (pixel.b !== max ? ((max - pixel.b) * (deg / 50)) : 0);\n\n    }\n    \n    return pixel;\n  }\n\n  // 对比度\n  contrast(pixel, degree) {\n    var deg = parseInt(degree || this.defaultDegree, 10);\n\n    deg = Math.pow((deg + 100) / 100, 2);\n\n    if (this.checkOpts(pixel)) {\n      // Red Channel\n      pixel.r /= 255;\n      pixel.r -= .5;\n      pixel.r *= deg;\n      pixel.r += .5;\n      pixel.r *= 255;\n      // Green Channel\n      pixel.g /= 255;\n      pixel.g -= .5;\n      pixel.g *= deg;\n      pixel.g += .5;\n      pixel.g *= 255;\n      // Blue Channel\n      pixel.b /= 255;\n      pixel.b -= .5;\n      pixel.b *= deg;\n      pixel.b += .5;\n      pixel.b *= 255;\n    }\n\n    return pixel;\n  }\n\n  // 褐度\n  sepia(pixel, degree) {\n    var deg = parseInt(degree || this.defaultDegree, 10) / 100;\n    if (this.checkOpts(pixel)) {\n      pixel.r = Math.min(255, (pixel.r * (1 - (0.607 * deg))) + (pixel.g * (0.769 * deg)) + (pixel.b * (0.189 * deg)));\n      pixel.g = Math.min(255, (pixel.r * (0.349 * deg)) + (pixel.g * (1 - (0.314 * deg))) + (pixel.b * (0.168 * deg)));\n      pixel.b = Math.min(255, (pixel.r * (0.272 * deg)) + (pixel.g * (0.534 * deg)) + (pixel.b * (1- (0.869 * deg))));;\n    }\n    return pixel;\n  }\n\n  // 噪点\n  noise(pixel, degree) {\n    var deg = parseInt(degree || this.defaultDegree, 10);\n\n    var randomRange = (min, max) => {\n      var rand = min + (Math.random() * (max - min));\n      return Math.round(rand) / 50;\n    }\n\n    deg = Math.abs(deg) * 255;\n\n    if (this.checkOpts(pixel)) {\n\n      var random = randomRange(deg * -1, deg);\n      \n      pixel.r += random;\n      pixel.g += random;\n      pixel.b += random;\n    }\n\n    return pixel;\n  }\n\n  // 灰度\n  greyscale(pixel) {\n    if (this.checkOpts(pixel)) {\n      var avg = (0.299 * pixel.r) + (0.587 * pixel.g) + (0.114 * pixel.b);\n      \n      pixel.r = avg;\n      pixel.g = avg;\n      pixel.b = avg;\n    }\n\n    return pixel;\n  }\n\n} \n\nexport default new PlotitAdjuster();\n \n\n\n/** WEBPACK FOOTER **\n ** ./src/core/adjuster.js\n **/","import Layer from './layer';\n\nclass PlotitFilter {\n  constructor() {\n    this.options = ['r', 'g', 'b'];\n  }\n\n  checkOpts(pixel) {\n    var keys = Object.keys(pixel);\n    return this.options.every((item) => {\n      return keys.indexOf(item) !== -1;\n    });\n  }\n\n  bindUtil(util) {\n    this.util = util;\n  }\n  \n  newLayer(canvas) {\n    this.canvas = canvas;\n    this.layer = new Layer(canvas, 'newFilter').layer;\n  }\n\n  renderLayer() {\n    this.canvas.getContext('2d').drawImage(this.layer, 0, 0);\n    console.log('render Filter ... is OK!');\n  }\n\n  moon() {\n    this.util.processPixel('greyscale');\n  }\n\n  toaster() {\n\n    this.util.processPixel('brightness', 40);\n    this.util.processPixel('contrast', 25);\n    \n    var ctx = this.layer.getContext('2d'),\n        width = this.layer.width,\n        height = this.layer.height,\n        x0 = width / 2,\n        y0 = height / 2,\n        r0 = (width > height ? width : height) / 10,\n        x1 = width / 2,\n        y1 = height / 2,\n        r1 = (width > height ? width : height) / 2;\n    \n    var grd = ctx.createRadialGradient(x0, y0, r0, x1, y1, r1);\n    grd.addColorStop(0, 'rgba(255, 226, 114, .3)');\n    grd.addColorStop(1, 'rgba(172, 70, 186, .3)');\n    \n    ctx.fillStyle = grd;\n    ctx.fillRect(0, 0, width, height);\n  }\n\n  _1977() {\n\n    this.util.processPixel('brightness', 20);\n    this.util.processPixel('saturation', -10);\n    this.util.processPixel('contrast', 20);\n\n    var ctx = this.layer.getContext('2d'),\n        width = this.layer.width,\n        height = this.layer.height,\n        x0 = width / 2,\n        y0 = height / 2,\n        r0 = (width > height ? width : height) / 2;\n\n    var grd = ctx.createRadialGradient(x0, y0, r0, 0, 0, 0);\n    grd.addColorStop(0, 'rgba(172, 70, 186, .2)');\n\n    ctx.fillStyle = grd;\n    ctx.fillRect(0, 0, width, height);\n  }\n\n  aden() {\n    this.util.processPixel('brightness', 10);\n    this.util.processPixel('saturation', 15);\n    this.util.processPixel('contrast', 10);\n\n    var ctx = this.layer.getContext('2d'),\n        width = this.layer.width,\n        height = this.layer.height,\n        x0 = width / 2,\n        y0 = height / 2,\n        r0 = (width > height ? width : height) / 5,\n        x1 = width / 2,\n        y1 = height / 2,\n        r1 = (width > height ? width : height) / 2;\n\n    var grd = ctx.createRadialGradient(x0, y0, r0, x1, y1, r1);\n    grd.addColorStop(0, 'rgba(96, 10, 14, .12)');\n    grd.addColorStop(1, 'transparent');\n\n    ctx.fillStyle = grd;\n    ctx.fillRect(0, 0, width, height);\n  }\n\n  earlybird() {\n    this.util.processPixel('saturation', -20);\n    this.util.processPixel('sepia', 10);\n\n    var ctx = this.layer.getContext('2d'),\n        width = this.layer.width,\n        height = this.layer.height,\n        x0 = width / 2,\n        y0 = height / 2,\n        r0 = (width > height ? width : height) / 5,\n        x1 = width / 2,\n        y1 = height / 2,\n        r1 = (width > height ? width : height) / 2;\n\n    var grd = ctx.createRadialGradient(x0, y0, r0, x1, y1, r1);\n    grd.addColorStop(0, 'rgba(208, 186, 142, .15)');\n    grd.addColorStop(1, 'rgba(54, 3, 9, .2)');\n\n    ctx.fillStyle = grd;\n    ctx.fillRect(0, 0, width, height);\n  }\n\n  walden() {\n    this.util.processPixel('brightness', 25);\n    this.util.processPixel('saturation', -5);\n    this.util.processPixel('sepia', 6);\n\n    var ctx = this.layer.getContext('2d'),\n        width = this.layer.width,\n        height = this.layer.height,\n        x0 = width / 2,\n        y0 = height / 2,\n        r0 = (width > height ? width : height) / 2;\n\n    var grd = ctx.createRadialGradient(x0, y0, r0, 0, 0, 0);\n    grd.addColorStop(0, 'rgba(20, 68, 204, .1)');\n\n    ctx.fillStyle = grd;\n    ctx.fillRect(0, 0, width, height);\n  }\n\n  xpro2() {\n    this.util.processPixel('contrast', 10);\n\n    var ctx = this.layer.getContext('2d'),\n        width = this.layer.width,\n        height = this.layer.height,\n        x0 = width / 2,\n        y0 = height / 2,\n        r0 = (width > height ? width : height) / 6,\n        x1 = width / 2,\n        y1 = height / 2,\n        r1 = (width > height ? width : height) / 2;\n\n    var grd = ctx.createRadialGradient(x0, y0, r0, x1, y1, r1);\n    grd.addColorStop(0, 'rgba(230, 231, 224, .2)');\n    grd.addColorStop(1, 'rgba(13, 27, 86, .4)');\n\n    ctx.fillStyle = grd;\n    ctx.fillRect(0, 0, width, height);\n  }\n\n  lofi() {\n    this.util.processPixel('saturation', 5);\n    this.util.processPixel('contrast', 20);\n\n    var ctx = this.layer.getContext('2d'),\n        width = this.layer.width,\n        height = this.layer.height,\n        x0 = width / 2,\n        y0 = height / 2,\n        r0 = (width > height ? width : height) / 3,\n        x1 = width / 2,\n        y1 = height / 2,\n        r1 = (width > height ? width : height) / 2;\n\n    var grd = ctx.createRadialGradient(x0, y0, r0, x1, y1, r1);\n    grd.addColorStop(0, 'transparent');\n    grd.addColorStop(1, 'rgba(34, 34, 34, .2)');\n\n    ctx.fillStyle = grd;\n    ctx.fillRect(0, 0, width, height);\n  }\n\n} \n\nexport default new PlotitFilter();\n \n\n\n/** WEBPACK FOOTER **\n ** ./src/core/filter.js\n **/","export default class PlotitLayer {\n  constructor(canvas, id) {\n    this.canvas = canvas;\n    this.id = id;\n    this.layer = this.new(id);\n  }\n\n  new(id) {\n    let canvas = this.canvas,\n        width = canvas.width,\n        height = canvas.height,\n        top = canvas.style.top,\n        left = canvas.style.left;\n\n    let newCanvas = document.createElement('canvas');\n\n    newCanvas.id = id;\n    newCanvas.width = width;\n    newCanvas.height = height;\n    newCanvas.style.position = 'absolute';\n    newCanvas.style.top = top;\n    newCanvas.style.left = left;\n\n    return newCanvas;\n  }\n\n  clear() {\n    if (!document.querySelector('#' + this.id)) return;\n\n    let $frame = document.querySelector('#' + this.id),\n        $overlay = document.querySelector('#overlay'),\n        parent = $frame.parentNode;\n\n    parent.removeChild($frame);\n\n    if ($overlay) {\n      parent.removeChild($overlay);\n    }\n  }\n\n   // append to the panel\n  addFrame(scale) {\n\n    this.clear();\n\n    let originW = this.layer.width,\n        originH = this.layer.height,\n        layerStyle = this.layer.style,\n        originT = parseFloat(layerStyle.top.replace('px', '')),\n        originL = parseFloat(layerStyle.left.replace('px', ''));\n\n    switch(scale.name) {\n      case '1:1':\n      case '4:3':\n      case '3:4':\n        let x = scale.x,\n            y = scale.y,\n            wh = originW / originH,\n            s = x / y,\n            min;\n\n        if (wh < s) {\n          this.layer.width = originW;\n          this.layer.height = originW / x * y;\n        } else if (wh > s) {\n          this.layer.height = originH;\n          this.layer.width = originH / y * x;\n        } else {\n          let min = originW < originH ? originW : originH;\n          this.layer.width = min;\n          this.layer.height = min;\n        }\n      break;\n\n      case '自定义':\n      default:\n      break;\n    }\n\n    layerStyle.top = originT + (originH - this.layer.height) / 2 + 'px';\n    layerStyle.left = originL + (originW - this.layer.width) / 2 + 'px';\n\n\n    this.drawCropImage(this.layer, {\n      originW: originW,\n      originH: originH,\n      cropW: this.layer.width,\n      cropH: this.layer.height\n    });\n    \n    this.drawFrameLine(this.layer);\n    \n    this.addOverlay(originW, originH);\n    \n    this.canvas.parentNode.appendChild(this.layer);\n  \n    return {\n      layer: this.layer,\n      originW: originW,\n      originH: originH,\n      cropW: this.layer.width,\n      cropH: this.layer.height\n    };\n  }\n\n  drawCropImage(canvas, opts) {\n    let cropCxt = canvas.getContext('2d'),\n        originCtx = this.canvas.getContext('2d'),\n        x = opts.x || (opts.originW - opts.cropW) / 2,\n        y = opts.y || (opts.originH - opts.cropH) / 2;\n\n    let originImageData = originCtx.getImageData(x, y, opts.originW, opts.originH);\n\n    cropCxt.clearRect(0, 0, opts.cropW, opts.cropH);\n    cropCxt.putImageData(originImageData, 0, 0);\n  }\n\n  drawFrameLine(canvas) {\n    let cxt = canvas.getContext('2d'),\n        w = canvas.width,\n        h = canvas.height;\n\n    cxt.strokeStyle = 'rgba(255, 255, 255, .5)';\n    cxt.lineWidth = 1;\n    cxt.strokeRect(0, h / 3, w, h / 3);\n    cxt.strokeRect(w / 3, 0, w / 3, h);\n\n    cxt.strokeStyle = '#FFF';\n    cxt.lineWidth = 5;\n    cxt.strokeRect(0 , 0, w, h);\n\n    let rW = 10;\n    cxt.fillStyle = '#FFF';\n    cxt.fillRect(0, 0, rW, rW);\n    cxt.fillRect(w - rW, 0, rW, rW);\n    cxt.fillRect(w - rW, h - rW, rW, rW);\n    cxt.fillRect(0, h - rW, rW, rW);\n  }\n\n  addOverlay(w, h) {\n\n    if (document.querySelector('#overlay')) return;\n\n    this.overlay = this.new('overlay');\n\n    let overlayCtx = this.overlay.getContext('2d');\n    overlayCtx.fillStyle = 'rgba(0, 0, 0, .7)';\n    overlayCtx.fillRect(0, 0, w, h);\n\n    this.canvas.parentNode.appendChild(this.overlay);\n  }\n\n}\n \n\n\n/** WEBPACK FOOTER **\n ** ./src/core/layer.js\n **/","import Layer from './layer';\n\nclass PlotitResize {\n\n  bindUtil(util) {\n    this.util = util;\n  }\n\n  cropImage(canvas, opts) {\n    let ctx = canvas.getContext('2d'),\n        ct = parseInt(canvas.style.top.replace('px', '')),\n        cl = parseInt(canvas.style.left.replace('px', '')),\n        cw = canvas.width,\n        ch = canvas.height,\n        x = opts.x,\n        y = opts.y,\n        w = opts.w,\n        h = opts.h;\n\n    let cropImageData = ctx.getImageData(x, y, w, h);\n\n    ctx.putImageData(cropImageData, 0, 0);\n\n    canvas.width = w;\n    canvas.height = h;\n    canvas.style.left = (cl + (cw - w) / 2) + 'px';\n    canvas.style.top = (ct + (ch - h) / 2) + 'px';\n  }\n\n  newFrame(canvas, scale) {\n    this.canvas = canvas;\n    this.Layer = new Layer(canvas, 'newFrame');\n    this.layerInfo = this.Layer.addFrame(scale);\n  }\n\n  removeFrame() {\n    if (this.Layer) {\n      this.Layer.clear();\n    }\n  }\n\n  bindFrame(scale) {\n    let self = this,\n        $layer = this.layerInfo.layer,\n        originW = this.layerInfo.originW,\n        originH = this.layerInfo.originH,\n        cropW = this.layerInfo.cropW,\n        cropH = this.layerInfo.cropH,\n        isDragging = false,\n        pos = {};\n\n\n    function isInTheRange(x, y, size) {\n      return (x > size && x < (cropW - size) \n          && y > size && y < (cropH - size));\n    }\n\n    $layer.addEventListener('mousedown', function dragging(e) {\n      \n      let x = e.layerX,\n          y = e.layerY,\n          elem = e.target || e.srcElement,\n          moveSize = 10;\n\n      if (isInTheRange(x, y, moveSize)) {\n        isDragging = true;\n        pos.dragX = x;\n        pos.dragY = y;\n      }\n\n    }, false);\n\n    $layer.addEventListener('mousemove', function moving(e) {\n      \n      let x = e.layerX,\n          y = e.layerY,\n          moveSize = 10,\n          cropStyle = $layer.style,\n          originStyle = self.canvas.style,\n          cropT = parseFloat(cropStyle.top.replace('px', '')) || 0,\n          cropL = parseFloat(cropStyle.left.replace('px', '')) || 0,\n          originT = parseFloat(originStyle.top.replace('px', '')) || 0,\n          originL = parseFloat(originStyle.left.replace('px', '')) || 0;\n\n      if (isInTheRange(x, y, moveSize) && isDragging) {\n\n        pos.moveX = x;\n        pos.moveY = y;\n\n        let movedx = cropL + (pos.moveX - pos.dragX),\n            movedy = cropT + (pos.moveY - pos.dragY),\n            mindx = originL,\n            mindy = originT,\n            maxdx = originL + originW - cropW,\n            maxdy = originT + originH - cropH;\n\n        let styleTop = (movedy >= mindy && movedy <= maxdy) ? movedy : cropT,\n            styleLeft = (movedx >= mindx && movedx <= maxdx) ? movedx : cropL;\n\n        $layer.style.top = styleTop + 'px';\n        $layer.style.left = styleLeft + 'px';\n\n        self.dx = (styleLeft - originL < 0) ? 0 : styleLeft - originL;\n        self.dy = (styleTop - originT < 0) ? 0 : styleTop - originT;\n\n        self.Layer.drawCropImage($layer, {\n          originH: originH,\n          originW: originW,\n          cropH: cropH,\n          cropW: cropW,\n          x: self.dx,\n          y: self.dy\n        });\n\n        self.Layer.drawFrameLine($layer);\n\n        self.setPreview(self.$preview, self.dx, self.dy);\n      }\n\n    }, false);\n\n\n    $layer.addEventListener('mouseup', function dropping(e) {      \n      let x = e.layerX,\n          y = e.layerY,\n          moveSize = 10;\n\n      isDragging = false;\n      if (isInTheRange(x, y, moveSize)) {\n        console.log('dropping', x, y);\n      }\n\n    }, false);\n\n  }\n\n  getFrame() {\n    if (this.cropImageData) {\n      let originW = this.canvas.width,\n          originH = this.canvas.height,\n          canvasStyle = this.canvas.style,\n          originT = parseFloat(canvasStyle.top.replace('px', '')),\n          originL = parseFloat(canvasStyle.left.replace('px', '')),\n          cropW = this.cropImageData.width,\n          cropH = this.cropImageData.height,\n          originCtx = this.canvas.getContext('2d');\n\n      this.canvas.width = cropW;\n      this.canvas.height = cropH;\n      originCtx.putImageData(this.cropImageData, 0, 0);\n\n      canvasStyle.top = originT + (originH - cropH) / 2 + 'px';\n      canvasStyle.left = originL + (originW - cropW) / 2 + 'px';\n\n      this.removeFrame();\n    }  \n\n    return this.resizeConfig || {};\n  }\n\n  setPreview(canvas, x, y) {\n    let originCtx = this.canvas.getContext('2d'),\n        previewCtx = canvas.getContext('2d'),\n        previewW = canvas.width,\n        cropW = this.layerInfo.cropW,\n        cropH = this.layerInfo.cropH;\n        \n    x = x || (this.layerInfo.originW - cropW) / 2,\n    y = y || (this.layerInfo.originH - cropH) / 2;\n\n    this.$preview = canvas;\n    \n    this.resizeConfig = {\n      x: x,\n      y: y,\n      w: cropW,\n      h: cropH\n    };\n\n    this.cropImageData = originCtx.getImageData(x, y, cropW, cropH);\n\n    canvas.width = 224;\n    canvas.height = canvas.width / cropW * cropH;\n  \n    let tempCanvas = document.createElement('canvas'),\n        tempCtx = tempCanvas.getContext('2d');\n\n    tempCanvas.width = cropW;\n    tempCanvas.height = cropH;\n    tempCtx.putImageData(this.cropImageData, 0, 0);\n\n    let tempImg = new Image(),\n        tempImgUrl = tempCanvas.toDataURL();\n\n    tempImg.src = tempImgUrl;\n\n    previewCtx.drawImage(tempImg, 0, 0, canvas.width, canvas.height);\n  }\n\n}\n\nexport default new PlotitResize();\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/core/resize.js\n **/"],"sourceRoot":""}